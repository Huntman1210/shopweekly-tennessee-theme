<!-- ShopWeekly Premium Animated Homepage -->

<section id="products" class="products-section animate-on-scroll">
  <div class="page-width">
    <h2 class="section-title">Featured Digital Products</h2>
    <p class="section-subtitle">Handcrafted resources designed specifically for Tennessee small-town families</p>
    
    <div class="products-grid">
      {% for product in collections.all.products limit: 6 %}
        <div class="product-card animate-on-scroll" style="animation-delay: {{ forloop.index | times: 0.1 }}s;">
          <div class="product-image">
            {% if product.compare_at_price > product.price %}
              <div class="sale-badge">SALE</div>
            {% endif %}
            
            {% if product.featured_image %}
              <img src="{{ product.featured_image | image_url: width: 400 }}" 
                   alt="{{ product.featured_image.alt | escape }}"
                   loading="lazy"
                   style="width: 100%; height: 100%; object-fit: cover;">
            {% else %}
              <div style="background: linear-gradient(135deg, #1e3a8a, #16a34a); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
                ðŸ“š
              </div>
            {% endif %}
          </div>
          
          <div class="product-content">
            <h3 class="product-title">{{ product.title }}</h3>
            
            <div class="product-price">
              {{ product.price | money }}
              {% if product.compare_at_price > product.price %}
                <span class="original-price">{{ product.compare_at_price | money }}</span>
              {% endif %}
            </div>
            
            <p class="product-description">
              {{ product.description | strip_html | truncate: 120 }}
            </p>
            
            {% if product.metafields.custom.features %}
              <ul class="product-features">
                {% assign features = product.metafields.custom.features | split: '|' %}
                {% for feature in features limit: 4 %}
                  <li>{{ feature }}</li>
                {% endfor %}
              </ul>
            {% else %}
              <ul class="product-features">
                <li>Instant digital download</li>
                <li>Printable PDF format</li>
                <li>Tennessee-specific content</li>
                <li>Money-back guarantee</li>
              </ul>
            {% endif %}
            
            <form action="{{ routes.cart_add_url }}" method="post" enctype="multipart/form-data" class="product-form">
              <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
              <button type="submit" class="product-button" 
                      {% unless product.available %}disabled{% endunless %}>
                {% if product.available %}
                  Add to Cart - {{ product.price | money }}
                {% else %}
                  Sold Out
                {% endif %}
              </button>
            </form>
          </div>
        </div>
      {% else %}
        <!-- Fallback products if no products exist -->
        <div class="product-card animate-on-scroll">
          <div class="product-image">
            <div class="sale-badge">SALE</div>
            <div style="background: linear-gradient(135deg, #1e3a8a, #16a34a); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸ“ˆ
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">Small Town Business Startup Guide</h3>
            <div class="product-price">
              $15.00 <span class="original-price">$25.00</span>
            </div>
            <p class="product-description">
              Complete roadmap for starting and growing a successful business in small communities like Covington, TN. Includes local marketing strategies and Tennessee business registration info.
            </p>
            <ul class="product-features">
              <li>40-page comprehensive guide</li>
              <li>Tennessee business registration process</li>
              <li>Local marketing strategies</li>
              <li>Funding options for rural businesses</li>
            </ul>
            <button class="product-button">Add to Cart - $15.00</button>
          </div>
        </div>

        <div class="product-card animate-on-scroll" style="animation-delay: 0.1s;">
          <div class="product-image">
            <div class="sale-badge">SALE</div>
            <div style="background: linear-gradient(135deg, #ea580c, #f59e0b); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸ’°
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">Family Budget Planner for Small Towns</h3>
            <div class="product-price">
              $8.00 <span class="original-price">$15.00</span>
            </div>
            <p class="product-description">
              Take control of your family's finances with this practical budget planning kit designed for families earning $40-60k annually in small towns.
            </p>
            <ul class="product-features">
              <li>20-page printable budget kit</li>
              <li>Monthly budget templates</li>
              <li>Expense tracking sheets</li>
              <li>Emergency fund planners</li>
            </ul>
            <button class="product-button">Add to Cart - $8.00</button>
          </div>
        </div>

        <div class="product-card animate-on-scroll" style="animation-delay: 0.2s;">
          <div class="product-image">
            <div style="background: linear-gradient(135deg, #16a34a, #22c55e); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸŽ¯
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">50 Free Family Activities in Small Towns</h3>
            <div class="product-price">$7.00</div>
            <p class="product-description">
              Discover amazing family activities using the resources already available in your small town community. Perfect for budget-conscious families.
            </p>
            <ul class="product-features">
              <li>50+ creative activity ideas</li>
              <li>Outdoor adventures using local parks</li>
              <li>Home-based creative projects</li>
              <li>Community engagement activities</li>
            </ul>
            <button class="product-button">Add to Cart - $7.00</button>
          </div>
        </div>

        <div class="product-card animate-on-scroll" style="animation-delay: 0.3s;">
          <div class="product-image">
            <div class="sale-badge">SALE</div>
            <div style="background: linear-gradient(135deg, #059669, #10b981); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸŒ±
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">Home Garden Planning Kit</h3>
            <div class="product-price">
              $12.00 <span class="original-price">$20.00</span>
            </div>
            <p class="product-description">
              Everything you need to plan, plant, and harvest a successful home garden in Tennessee's climate. Includes Tennessee-specific planting calendar.
            </p>
            <ul class="product-features">
              <li>Garden layout templates</li>
              <li>Tennessee planting calendar</li>
              <li>Harvest tracking sheets</li>
              <li>Companion planting charts</li>
            </ul>
            <button class="product-button">Add to Cart - $12.00</button>
          </div>
        </div>

        <div class="product-card animate-on-scroll" style="animation-delay: 0.4s;">
          <div class="product-image">
            <div class="sale-badge">SALE</div>
            <div style="background: linear-gradient(135deg, #7c3aed, #a855f7); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸ“±
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">Small Business Social Media Templates</h3>
            <div class="product-price">
              $10.00 <span class="original-price">$18.00</span>
            </div>
            <p class="product-description">
              Professional social media graphics designed specifically for small town businesses. 80+ templates ready to customize in Canva.
            </p>
            <ul class="product-features">
              <li>50+ Facebook post templates</li>
              <li>30+ Instagram story templates</li>
              <li>Business promotion graphics</li>
              <li>Easy Canva customization</li>
            </ul>
            <button class="product-button">Add to Cart - $10.00</button>
          </div>
        </div>

        <div class="product-card animate-on-scroll" style="animation-delay: 0.5s;">
          <div class="product-image">
            <div class="sale-badge">SALE</div>
            <div style="background: linear-gradient(135deg, #dc2626, #ef4444); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
              ðŸš¨
            </div>
          </div>
          <div class="product-content">
            <h3 class="product-title">Family Emergency Preparedness Plan</h3>
            <div class="product-price">
              $9.00 <span class="original-price">$15.00</span>
            </div>
            <p class="product-description">
              Protect your family with this comprehensive emergency planning guide designed for small town families. Be prepared for any situation.
            </p>
            <ul class="product-features">
              <li>Emergency contact templates</li>
              <li>Supply checklists</li>
              <li>Evacuation planning</li>
              <li>Rural emergency considerations</li>
            </ul>
            <button class="product-button">Add to Cart - $9.00</button>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Newsletter Signup Section -->
<section class="newsletter-section animate-on-scroll" style="padding: 4rem 2rem; background: linear-gradient(135deg, #fef7ed 0%, #ffffff 100%); text-align: center;">
  <div class="page-width">
    <h2 style="font-size: 2rem; color: #1e3a8a; margin-bottom: 1rem;">Stay Connected with ShopWeekly</h2>
    <p style="color: #6b7280; margin-bottom: 2rem; max-width: 500px; margin-left: auto; margin-right: auto;">
      Get the latest Tennessee family resources, budget tips, and small-town business advice delivered to your inbox.
    </p>
    
    <form class="newsletter-form" style="display: flex; gap: 1rem; max-width: 400px; margin: 0 auto; flex-wrap: wrap;">
      <input type="email" 
             placeholder="Enter your email address" 
             style="flex: 1; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; min-width: 250px;">
      <button type="submit" 
              style="background: linear-gradient(45deg, #ea580c, #f59e0b); color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.3s ease;">
        Join Now
      </button>
    </form>
  </div>
</section>

<style>
  .newsletter-form button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(234, 88, 12, 0.3);
  }
  
  @media (max-width: 768px) {
    .newsletter-form {
      flex-direction: column;
    }
    
    .newsletter-form input {
      min-width: 100%;
    }
  }
</style>

<script>
  // Add newsletter form functionality
  document.addEventListener('DOMContentLoaded', function() {
    const newsletterForm = document.querySelector('.newsletter-form');
    if (newsletterForm) {
      newsletterForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const email = this.querySelector('input[type="email"]').value;
        
        if (email) {
          // Show success message
          const button = this.querySelector('button');
          const originalText = button.textContent;
          button.textContent = 'Subscribed! âœ“';
          button.style.background = '#16a34a';
          
          setTimeout(() => {
            button.textContent = originalText;
            button.style.background = 'linear-gradient(45deg, #ea580c, #f59e0b)';
            this.querySelector('input').value = '';
          }, 3000);
        }
      });
    }
  });
</script>

